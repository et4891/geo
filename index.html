<!DOCTYPE html>
<html>
<body>
<p id="demo"></p>
<script src="https://code.jquery.com/jquery-3.1.1.min.js"
        integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script>
    $(function () {
        var x = document.getElementById("demo");
//        var url = 'BB';
//        console.log(navigator);
//        console.log(navigator.geolocation);
//        function getLocation() {
//            if (navigator.geolocation) {
//          navigator.geolocation.getCurrentPosition(showPosition);
        navigator.geolocation.getCurrentPosition(function (position) {
            url = 'http://maps.googleapis.com/maps/api/geocode/json?latlng=' + position.coords.latitude.toString() + ',' + position.coords.longitude.toString();
            console.log(url);
            $.ajax({
                method: 'get',
                url: url,
                dataType: "json",
                success: function(data){
                    let result = data.results[0];
                    let fullAddress = result.formatted_address;

                    $('#demo').html(fullAddress);

                },
                error: function(err){
                    console.log(err);
                }
            });
//              console.log('ff');
        });
//            } else {
//                x.innerHTML = "Geolocation is not supported by this browser.";
//            }
//        }

//        console.log(url);

//  function showPosition(position) {
//      url ='http://maps.googleapis.com/maps/api/geocode/json?latlng=' + position.coords.latitude.toString() + ',' + position.coords.longitude.toString();
//      console.log(url);
//      x.innerHTML = "Latitude: " + position.coords.latitude +
//              "<br>Longitude: " + position.coords.longitude +  "<br>" + position.coords.latitude + ',' + position.coords.longitude;
//      url = 'http://maps.googleapis.com/maps/api/geocode/json?latlng=' + position.coords.latitude.toString() + ',' + position.coords.longitude.toString();
//  }

//  console.log(url);
//  http://maps.googleapis.com/maps/api/geocode/json?latlng=49.2855768,-123.1114421
    });
</script>

</body>
</html>
